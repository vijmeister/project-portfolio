## Purpose: 
To find the top 10 related movies based on textual data of a movie (title, caption, categories) and return the following such information concerning related movies: id, title, description, categories, image URL.

## Folder Contents
The contents of this folder directory are for the Vimeo coding challenge. It includes the following files:
### Write-up
1. A 1-page writeup (**Vimeo.docx**) that outlines the approach, things I liked/disliked about the assignment, changes that I would make if I were to put into production, scale-up, and possible additional techniques that I would use. 
### Scripts and Output Files
2. A pre-processing script (**vimeo_preprocessing.py**) that creates a single table (**clips_expanded.csv**) from the provided input tables(clips,categories, and a mapping between the two) to use with the following columns: 'id', 'title', 'caption', 'thumbnail', 'categories', 'category_names'.
3. An analysis script (**vimeo_analysis.py**) which uses the pre-processed table and uses TF-TDF and cosine similarity to determine the top 10 related movies for each movie. FInally, a function is used to provide a JSON file of related top 10 clips in descending relevance for a list of clip id's that are passed in. The output file is saved as **results.json**.

## Usages of a few key functions
I created two functions: 1. to obtain the category names upon lookup in the categories table and then add a list of those names as a field to the clips table; 2. produce a JSON of top 10 related clips in descending order of relevance for each clip id given a sequence of clips ids.

### obtain_category_names
```python
"""
PURPOSE: get the category names from the categories
INPUTS : a sequence of numerical categories, the table to look in, 
the name of the id variable, the name of the text column
OUTPUT : a substitution of those numbers by the category name upon 
lookup 
"""
```
Getting 'Animation' and '2D' from categories 2, and 26:
```python

test_case=obtain_category_names('2, 26',categories,'category_id','name')
assert obtain_category_names('2, 26',categories,'category_id','name')==['Animation', '2D']
#no assertion error
```

### obtain_related_clips
```python
"""
PURPOSE: 
INPUTS: a list of clip id's, the table to obtain the related clips' info,
the table of indices for the top 10 related movies,the name of the id variable
to search in the table of clip id's
OUTPUT: a json of the related clips of interest with each key being the orginal
clip id being passed in. The values of each key are the information of the top
10 related movies in descending order of relevance

"""
```
The response for clip of id 14434107:
```python
print(obtain_related_clips([14434107],clips_expanded_,rmif,'id'))
{14434107: '{"id":131506757,"title":"Bringing Back the Light","caption":"Bringing Back the Light - Restoring the Life to Canada\'s Temperate Rainforests\\r\\r\\n\\r\\r\\nThis film explores the practice, the methods and the need for habitat restoration in British Columbia\'s temperate rainforests. At Central Westcoast Forest Society, we see a clear connection between healthy landscapes and healthy communities. Our coast is one of the most beautiful places in the world, but decades of destructive logging, mining, and development practices have left vast expanses of our temperate rainforest in need of a helping hand. Many wildlife species have become endangered and wild salmon runs that once teemed with life are struggling to survive. Our job is to get the hard work done, and to get it done now. To find out more about the work we do visit:\\r\\r\\nhttp:\\/\\/clayoquot.org\\r\\r\\n\\r\\r\\nFilmed in the Clayoquot Sound on the Westcoast of Vancouver Island, BC, Canada\\r\\r\\nFeaturing \\r\\r\\nWarren Warttig\\r\\r\\nJessica Hutchinson\\r\\r\\nAndy MacKinnon\\r\\r\\nSaya Masso\\r\\r\\nAdrian Burnie\\r\\r\\nChuck Mack\\r\\r\\nDanielle Francis\\r\\r\\nJaime Pascoe\\r\\r\\nNico Hayes\\r\\r\\nJake Van Dort\\r\\r\\nKen Easton\\r\\r\\nAndrew Mack\\r\\r\\n\\r\\r\\nProducer - Drew Burke\\r\\r\\nDoP \\/ Editor - Mark Wyatt\\r\\r\\nhttp:\\/\\/wyattvisuals.com\\r\\r\\n\\r\\r\\nMusic - themusicbed.com\\r\\r\\nGraded - Davinci Resolve using Filmconvert with Kodak FJ 8553 ET\\r\\r\\nShot on - Blackmagic Cinema Cameras and 5d Mark III\\r\\r\\n\\r\\r\\nCopyright 2015","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/523402982_780x439.webp","categories":"117, 176, 178","category_names":"[\'Documentary\', \'Culture & Tech\', \'People\']"}\n{"id":72588912,"title":"THE HORSEMEN","caption":"\'The Horsemen\' captures the traditions and values of the noble Almonte Horsemen. For over 500 years these men have annually driven over 1000 horses across the Spanish plains and to pastures new. This short documentary follows the spectacle of that journey and explores just what it means to be a Horseman.\\r\\r\\n\\r\\r\\nDirector \\/ Camera - Glen Milner\\r\\r\\nProducer \\/ Sound - Amy Tinkler\\r\\r\\nTranslator - Juan Jose Martinez Gonzales\\r\\r\\nSound Design - Dan Pugsley\\r\\r\\nAerial Unit - Miguel Angel Aguilar\\r\\r\\nMusic - \'Awakening\' by Andrew Quinn\\r\\r\\nColourist - Ben Hilton\\r\\r\\n\\r\\r\\nShot on Red Epic from Video Europe, London.","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/447246557_780x439.webp","categories":"9","category_names":"[\'Music\']"}\n{"id":21119709,"title":"(notes on) biology","caption":"keep up with the new movies:\\r\\r\\nfacebook.com\\/ornanafilms\\r\\r\\nwww.ornana.com","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/274903819_780x439.webp","categories":"","category_names":"[]"}\n{"id":58918841,"title":"IRL - In Real Life (Short Version)","caption":"\\"IRL - In Real Life\\", is a short documentary looking at the time an individual can spend in the world of an online game, in this case, World of Warcraft. The documentary is a personal look at the director, Anthony Rosner, and his own experience from playing Warcraft. \\r\\r\\n\\r\\r\\nThis is the shorter version for film festivals, the longer version can be found here - https:\\/\\/vimeo.com\\/35199868\\r\\r\\nAnd watch the sequel - https:\\/\\/vimeo.com\\/73712210\\r\\r\\n\\r\\r\\nWinner Phoenix Comicon Film Festival\\r\\r\\nWinner Durham Film Festival - Best Design, Audience Choice Award\\r\\r\\nNominated Royal Television Society Student Awards - Best Factual Film\\r\\r\\nOfficial Selection BUtiful Film Festival\\r\\r\\nOfficial Selection British Shorts Film Festival, Berlin\\r\\r\\nScreened at Summoning Stone Brazil\\r\\r\\nFeatured on ABC1 (Australia)\\r\\r\\nFeatured on BBC Radio 4 and BBC Radio Surrey\\r\\r\\n\\r\\r\\nYou can check out the Facebook page here - www.facebook.com\\/irlmovie\\r\\r\\nMy website - www.anthonyrosner.com\\r\\r\\n\\r\\r\\nProduced, Directed, Written, Edited and Cinematography By \\r\\r\\nAnthony Rosner - https:\\/\\/vimeo.com\\/antronoid\\r\\r\\n\\r\\r\\nVisual Effects By \\r\\r\\nDave Novis - https:\\/\\/vimeo.com\\/zictor\\r\\r\\n\\r\\r\\nCreated as part of the film production course at the University for the Creative Arts, Farnham.","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/407572583_780x439.webp","categories":"2","category_names":"[\'Animation\']"}\n{"id":105412070,"title":"DISRUPTION","caption":"Premieres September 7th @ watchdisruption.com - 52 min\\r\\r\\nJoin the Peoples Climate March, September 21st @ peoplesclimate.org\\r\\r\\n-------\\r\\r\\nA PF PICTURES production \\r\\r\\nProduced & Directed by KELLY NYKS & JARED P. SCOTT\\r\\r\\nExecutive Producer JON WARNOW\\r\\r\\nEdited by NATALIA IYUDIN\\r\\r\\nDirector of Photography TAD FETTIG\\r\\r\\nOriginal Music by MALCOLM FRANCIS\\r\\r\\nAnimation Direction by EVE WEINBERG\\r\\r\\nAssociate Producer & Additional Editing HYPATIA PORTER\\r\\r\\nAnimation by HALA ALHOMOUD | MADELINE QUINN\\r\\r\\nAssociate Producer ZOE COUACAUD\\r\\r\\nProduction Coordinator KAYCI ROTHWEILER\\r\\r\\nAdditional Cinematography by MIKE MCSWEENEY, IAN COOK, ANDRE DAHLMAN, DAVID OHANA, NIKKI BRAMLEY, ANDREW BAKER, DAVID HICKS\\r\\r\\nColor by JORDAN BRAMLETT\\r\\r\\nAssistant Editing by SHAHEEN NAZERALI\\r\\r\\nAudio Mix by MATT ROCKER & IAN STYNES\\r\\r\\nResearch Coordinator ANDY DELOACH\\r\\r\\nProduction Assistant REED YURMAN\\r\\r\\n[complete credits at end of film]\\r\\r\\n---\\r\\r\\n* \\u201cHOME\\u201d by Yann Arthus-Bertrand\\r\\r\\n\\u00a9 2009 MY PLANET \\u2013 ELZEVIR FILMS\\r\\r\\nCourtesy of Yann Arthus Bertrand\\"\\r\\r\\n* Additional Footage Courtesy of Greenpeace International, Dahlman\\/Cook Productions, Richter Productions, Mike McSweeney, David Ohana, Casey Neistat, John Mattiuzzi, Eric Feijten, Randy Scott Slavin.\\r\\r\\n[complete attribution in end credits]\\r\\r\\n* Special Thanks to 350.org and Jon Warnow\\r\\r\\n[complete thanks in end credits]","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/490662653_780x439.webp","categories":"9, 2, 28, 111","category_names":"[\'Music\', \'Animation\', \'VFX\', \'Music Videos\']"}\n{"id":68208871,"title":"Beauty","caption":"Take a look at the entire series here: vimeo.com\\/channels\\/makingart\\r\\r\\n\\r\\r\\nMelanie Norris shares her passion for finding beauty in people that others may have overlooked.\\r\\r\\n\\r\\r\\n\\"My responsibility as an artist is to convey beauty in people. To find the wonderful side of things that may typically be ignored, or just kind of passed on the street ...\\"\\r\\r\\n\\r\\r\\nMusic provided by Welcome Wizard","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/440250531_780x439.webp","categories":"9","category_names":"[\'Music\']"}\n{"id":114837346,"title":"The Sun Hates Me","caption":"The story behind the music video Glare by Sheep, Dog & Wolf.\\r\\r\\nWatch the music video here: vimeo.com\\/91349096\\r\\r\\nFollow Candlelit Pictures here: facebook.com\\/CandlelitPictures\\r\\r\\n\\r\\r\\nEdited and Directed by Damian Golfinopoulos.\\r\\r\\nShot by the crew making the music video. \\r\\r\\nColor by Crystal Ashford at Colorspace. \\r\\r\\nMusic by Sheep, Dog & Wolf.\\r\\r\\nAdditional Sound Mix by Joshua Lynn at Thinkt. \\r\\r\\nTitles and GFX by Lone Wolf Design and Sean Wallace. \\r\\r\\n\\r\\r\\nMASSIVE THANKS are due to NZOA for helping to fund this music video, Panavision in Melbourne for supporting us the way you did (we could NOT have made this music video without you!!), Hadleigh Walker for saving our asses on more than one occasion, Thinkt, Wireless Warehouse, Annie Whittaker for making the first shot possible, Park Road Post \\/ Wingnut Films for gifting us the film stock, and the lovely ladies at the Coober Pedy Library for letting us set up a satellite office!","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/502877561_780x439.webp","categories":"7, 214","category_names":"[\'Narrative\', \'Romance\']"}\n{"id":36071497,"title":"Vanessa Bruno - Moonlight","caption":"Une fille stellaire, une fille solaire qui s\\u2019accroche \\u00e0 la lune et d\\u00e9barque sur une terre inconnue, un sol non foul\\u00e9, immacul\\u00e9 comme sa tenue blanche.\\r\\n\\r\\nEst-ce la fin du r\\u00e9el, le d\\u00e9but d\\u2019un r\\u00eave ? \\r\\n\\r\\nLe nouveau film Vanessa Buno r\\u00e9alis\\u00e9 par St\\u00e9phanie Di Giusto offre un visage, celui de Kate Bosworth.\\r\\nElle habite une maison irr\\u00e9elle, pos\\u00e9e l\\u00e0 dans le d\\u00e9sert d\\u2019un espace temps improbable, o\\u00f9 tout devient possible, comme d\\u00e9fier l\\u2019apesanteur et le temps.\\r\\n\\r\\nSon pass\\u00e9 ressurgit. Il est l\\u00e9ger et inconscient : une main d\\u2019enfant qui caresse son visage, une piscine sous le soleil de la Californie, des rires, des vies.\\r\\n\\r\\nKate fonce et ne se retourne plus, il y avait les souvenirs et maintenant il y a l\\u2019horizon, l\\u2019avenir \\u00e0 inventer, \\u00e0 imaginer, comme dans un conte futuriste.\\r\\nElle se r\\u00e9v\\u00e8le enfin \\u00e0 la lune, telle une jeune femme messie illumin\\u00e9e d\\u2019une pens\\u00e9e tellurique.\\r\\n\\r\\nAu-del\\u00e0 de cet onirisme, le film est \\u00e0 l\\u2019image de la collection Vanessa Bruno, une candeur de ton dont l\\u2019enveloppe \\u2013 la douceur nacr\\u00e9e des v\\u00eatements \\u2013 s\\u2019exile au-del\\u00e0 des contingences du quotidien.\\r\\n\\r\\nUn style, une mode en guise de protection solaire contre une grisaille environnante dont la silhouette et le visage de l\\u2019actrice Kate Bosworth rayonnent d\\u2019espoir. \\r\\n\\r\\nUn film en apesanteur o\\u00f9 l\\u2019imaginaire r\\u00e8gne et sauvegarde une puret\\u00e9 que rien n\\u2019entrave. Une fille la t\\u00eate dans la lune, qui s \\u2018accroche \\u00e0 ses r\\u00eaves. Ou direction les \\u00e9toiles ?\\r\\n\\r\\n\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\r\\n\\r\\nA stellar girl, a radiant girl who clutches onto the moon and arrives in an unknown land, on unmarred ground, as immaculate as her white ensemble.\\r\\n\\r\\nIs this the end of reality, the beginning of a dream?\\r\\n\\r\\nThe new Vanessa Bruno film directed by Stephanie Di Giusto presents a face, that of Kate Bosworth.\\r\\n\\r\\nShe lives in an illusory house, set in the desert of an improbable space-time where anything is possible, whether weightlessness or challenging the course of time.\\r\\n\\r\\nHer past resurfaces. It is airy and subconscious: a child\'s hand caressing her face, a swimming pool in sunny California, laughter, life.\\r\\n\\r\\nKate rushes forth and doesn\\u2019t look back, there were memories and now there is the horizon, a future to invent, to imagine, like a futuristic fairy tale.\\r\\n\\r\\nShe finally reveals herself to the moon, like a young woman messiah illuminated from within by telluric thoughts.\\r\\n\\r\\nBeyond its dreamlike nature, the film is a reflection of the Vanessa Bruno collection, a candor of tone in which the shell \\u2013 the pearly softness of the clothes \\u2013 is exiled beyond the contingencies of everyday life.\\r\\n\\r\\nA Style, a mode of dress in lieu of sunscreen against the surrounding somber grayness from which the silhouette and the face of actress Kate Bosworth radiate hope.\\r\\n\\r\\nA weightless film where imagination reigns and safeguards a purity that nothing can hinder. A girl with her head in the clouds, who clings to her dreams. Or on towards the stars?","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/253182618_780x439.webp","categories":"","category_names":"[]"}\n{"id":36276188,"title":"Wing","caption":"Bachelor film project 2012 from The Animation Workshop.\\r\\r\\n\\r\\r\\nStory: A solitary, one winged creature called Wing is harassed by a group of oppressive crows due to being weak and different from them. He decides that he wants to overcome his disability and escape from the forest. He builds a catapult and a mechanical wing to accomplish this. When he launches himself away from the forest, the wing malfunctions, and he crashes into the territory of the crows. The crows are about to harm him, but are then lured away by a two-winged humanoid, who the crows attack instead. Wing finds the creature, and discovers it is a female of his own kind, and that the crows have torn one of her wings off. As the crows come towards them, Wing gets the idea that he and the female can fly in tandem by flapping each of their single wings while holding onto each other, and they manage to escape from the forest.\\r\\r\\n\\r\\r\\nBy: Asger Grevil, Mette V. Madsen, Jonas Kirkegaard, Michael Bech\\r\\r\\n\\r\\r\\nhttp:\\/\\/www.animwork.dk\\/en\\r\\r\\n\\r\\r\\nhttps:\\/\\/www.facebook.com\\/#!\\/pages\\/The-Animation-Workshop-Official-Page\\/10452541819","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/532594247_780x439.webp","categories":"","category_names":"[]"}\n{"id":236676206,"title":"One year of Staff Pick Premieres","caption":"Celebrating one year of Exclusive Premieres. Every Wednesday. Only on Vimeo.\\r\\r\\n\\r\\r\\nWatch them all here: https:\\/\\/vimeo.com\\/staffpickpremieres\\r\\r\\n\\r\\r\\nAnd submit your film here: https:\\/\\/vimeo.com\\/submit\\r\\r\\n\\r\\r\\nMusic courtesy of http:\\/\\/juanwauters.com and http:\\/\\/www.capturedtracks.com","thumbnail":"https:\\/\\/i.vimeocdn.com\\/video\\/658980194_780x439.webp","categories":"","category_names":"[]"}'}
```
